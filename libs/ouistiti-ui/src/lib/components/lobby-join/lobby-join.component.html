<h2>Join a lobby</h2>

<tmk-ouistiti-lobby-list-item [lobbyInfo]="lobby"></tmk-ouistiti-lobby-list-item>

<form [formGroup]="form">
  <div class="form-grid" *ngIf="lobby.passwordProtected">
    <div class="info-row">This lobby is password protected</div>
    <label>Password</label>
    <input type="password" formControlName="password">

    <hr>
  </div>

  <tmk-ouistiti-player-settings
    formControlName="playerSettings"
    [takenColours]="takenColours"
    [takenNicknames]="takenNicknames">
  </tmk-ouistiti-player-settings>

  <div class="form-grid">
    <hr>
    <div class="buttons-row">
      <button class="button-colour-green" (click)="join()" [disabled]="form.invalid">
        Join lobby
      </button>

      <div class="error" *ngIf="form.touched && form.invalid && errorMessage">
        <mat-icon [inline]="true">error</mat-icon>{{ errorMessage }}
      </div>
    </div>
  </div>
</form>
